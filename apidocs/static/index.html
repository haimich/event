<!DOCTYPE html>
<html>
  <head>
    <title>EVENT API Doc</title>
    <link href='css/reset.css' media='screen' rel='stylesheet' type='text/css'/>
    <link href='css/screen.css' media='screen' rel='stylesheet' type='text/css'/>
    <link href='css/reset.css' media='print' rel='stylesheet' type='text/css'/>
    <link href='css/screen.css' media='print' rel='stylesheet' type='text/css'/>

    <!-- Custom -->
    <link href='event/css/event.css' rel='stylesheet' type='text/css'/>
    <link href='event/css/foundation.min.css' rel='stylesheet' type='text/css'/>
    <link href='event/css/font-awesome.min.css' rel='stylesheet' type='text/css'/>
    <!-- Custom -->

    <script type="text/javascript" src="lib/shred.bundle.js"></script>
    <script src='lib/jquery-1.8.0.min.js' type='text/javascript'></script>
    <script src='lib/jquery.slideto.min.js' type='text/javascript'></script>
    <script src='lib/jquery.wiggle.min.js' type='text/javascript'></script>
    <script src='lib/jquery.ba-bbq.min.js' type='text/javascript'></script>
    <script src='lib/handlebars-2.0.0.js' type='text/javascript'></script>
    <script src='lib/underscore-min.js' type='text/javascript'></script>
    <script src='lib/backbone-min.js' type='text/javascript'></script>
    <script src='lib/swagger.js' type='text/javascript'></script>
    <script src='lib/swagger-client.js' type='text/javascript'></script>
    <script src='swagger-ui.js' type='text/javascript'></script>
    <script src='lib/highlight.7.3.pack.js' type='text/javascript'></script>
    <script src='lib/marked.js' type='text/javascript'></script>

    <!-- Custom -->
    <script src='event/js/foundation.min.js'></script>
    <script src='event/js/one.js' type='text/javascript'></script>
    <!-- Custom -->

  </head>

  <body class="swagger-section">

    <div class="one-container">
      <div class="one-main">
        <div class="one-header">
          <a href="/event"><img class="apidoc-logo" src="event/images/apidoc.png" title="Go to EVENT" /></a>

          <hr class="one-header" />
        </div>
        <div class="one-body">
          <p>The REST API allows everyone to programmatically use the services provided by EVENT.</p>

          <!-- Endpoint documentation -->
          <div id="swagger-ui-container" class="swagger-ui-wrap"></div>
          <div id="message-bar" class="swagger-ui-wrap">&nbsp;</div>
          <!-- Endpoint documentation -->
        </div>
      </div>
    </div>

  <div id="oneModal" style="top: 50px;" class="reveal-modal one-description" data-reveal>
    <h2><i class="fa fa-cogs fa-fw"></i> Try it out!</h2>
      <p>We are building our API doc on <a class="one-link" href="https://github.com/swagger-api/swagger-ui">swagger</a> so you can make use of the "Try it out!" feature. Just enter values for all required fields and press on the button to send an actual response to our API (just like curl, but in the browser). </p>
      <p><strong>Important: </strong> You're making <em>real</em> requests to the productive API so know what you do when you press that button!</p>

    <h2><i class="fa fa-lock fa-fw"></i> Authentication</h2>
      <p>All endpoints are secured, to access them you have two options:</p>
      <p><strong>1) Basic Auth</strong></p>

      <ul>
        <li>this is the authentication method that most clients will probably use</li>
        <li>every employee can access the API with its own username/password</li>
        <li>you can also use a pseudo user to access the API</li>
      </ul>

      <p><strong>2) Cookie authentication</strong></p>

      <ul>
        <li>if your application runs on the domain <i class="one-italic">inside.1and1.org</i> every request to the backend includes the InsideNET cookie, when you're logged in</li>
        <li>all API calls are made with the user currently authenticated (which the ONE backend extracts by reading the session id from the cookie)</li>
      </ul>

    <h2><i class="fa fa-code fa-fw"></i> Versioning</h2>
      <p>We decided that versioning our whole API would add too much operations overhead. Instead, we decided to follow this approach:</p>

      <ul>
        <li>when we have to <i class="one-italic">add</i> resources we do this without providing versioning because clients should not be affected by this</li>
        <li>in case of a breaking change of an existing resource we duplicate the method and introduce a temporary <code>accept-header</code> that allows you to use the new version</li>
        <li>we then write an announcement on the Developer Wall that all clients should adjust their clients</li>
        <li>after 3 months we eliminate the header and change the default behavior to the new version of the resource</li>
      </ul>

    <h2><i class="fa fa-book fa-fw"></i> Pagination</h2>
      <p>All our list resources (like <i class="one-italic">get all groups</i>) accept parameters to get portions of the result in a paginated manner. The parameters are as follows:</p>

      <ul>
        <li><code>page</code> provide the page number you want to receive (page numbering starts with 1)</li>
        <li><code>per_page</code> limit the number of results per page</li>
      </ul>

    <h2><i class="fa fa-file-text fa-fw"></i> Concepts</h2>
    <h3>Walls vs. Groups</h3>
    <p>At first it may be hard for you to understand why ONE is based on the two concepts "groups" and "walls". The reason is that we want to be able to extend ONE in the future so that a group may not only contain a wall but also a JIRA queue, a Git project or a blog. Here is a short description how Walls and Groups relate:</p>
    <ul>
      <li>a group has a type (open or closed) and a description</li>
      <li>a group has no knowledge of any walls</li>
      <li>a wall belongs to one group</li>
      <li>when someone joins a wall he gets added as a member to the group</li>
      <li>theoretically there could be more than one wall associated with a group</li>
      <li>posts, comments and votes belong to a wall</li>
    </ul> <a class="close-reveal-modal">&#215;</a>
  </div>

</body>
</html>
